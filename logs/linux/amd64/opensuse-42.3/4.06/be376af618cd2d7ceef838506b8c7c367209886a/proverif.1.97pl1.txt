$ opam depext -iy -j 2 proverif.1.97pl1
# Detecting depexts using vars: arch=x86_64, os=linux, os-distribution=opensuse, os-family=suse
# The following system packages are needed:
graphviz
m4
# The following new OS packages need to be installed: graphviz
The following command needs to be run through "sudo":
    zypper --non-interactive install graphviz
Loading repository data...
Reading installed packages...
Resolving package dependencies...

The following 9 NEW packages are going to be installed:
  graphviz libICE6 libSM6 libXaw7 libXext6 libXmu6 libXpm4 libXt6 xbitmaps

9 new packages to install.
Overall download size: 2.5 MiB. Already cached: 0 B. After the operation, additional 62.6 MiB will be used.
Continue? [y/n/...? shows all options] (y): y
Retrieving package xbitmaps-1.1.1-15.3.noarch (1/9),  27.2 KiB (176.3 KiB unpacked)
Retrieving: xbitmaps-1.1.1-15.3.noarch.rpm [done]
Retrieving package libICE6-1.0.9-7.1.x86_64 (2/9),  41.2 KiB (100.2 KiB unpacked)
Retrieving: libICE6-1.0.9-7.1.x86_64.rpm [.done]
Retrieving package libXext6-1.3.3-6.3.x86_64 (3/9),  28.5 KiB ( 71.8 KiB unpacked)
Retrieving: libXext6-1.3.3-6.3.x86_64.rpm [done]
Retrieving package libXpm4-3.5.11-11.3.x86_64 (4/9),  33.6 KiB ( 71.2 KiB unpacked)
Retrieving: libXpm4-3.5.11-11.3.x86_64.rpm [done]
Retrieving package libSM6-1.2.2-8.3.x86_64 (5/9),  17.3 KiB ( 30.3 KiB unpacked)
Retrieving: libSM6-1.2.2-8.3.x86_64.rpm [done]
Retrieving package libXt6-1.1.5-4.3.x86_64 (6/9), 152.7 KiB (407.6 KiB unpacked)
Retrieving: libXt6-1.1.5-4.3.x86_64.rpm [done]
Retrieving package libXmu6-1.1.2-8.3.x86_64 (7/9),  45.3 KiB (105.0 KiB unpacked)
Retrieving: libXmu6-1.1.2-8.3.x86_64.rpm [done]
Retrieving package libXaw7-1.0.13-5.3.1.x86_64 (8/9), 166.6 KiB (457.8 KiB unpacked)
Retrieving: libXaw7-1.0.13-5.3.1.x86_64.rpm [done]
Retrieving package graphviz-2.38.0-9.1.x86_64 (9/9),   2.0 MiB ( 61.2 MiB unpacked)
Retrieving: graphviz-2.38.0-9.1.x86_64.rpm [done]
Checking for file conflicts: [.......done]
(1/9) Installing: xbitmaps-1.1.1-15.3.noarch [........done]
(2/9) Installing: libICE6-1.0.9-7.1.x86_64 [.....done]
(3/9) Installing: libXext6-1.3.3-6.3.x86_64 [....done]
(4/9) Installing: libXpm4-3.5.11-11.3.x86_64 [....done]
(5/9) Installing: libSM6-1.2.2-8.3.x86_64 [....done]
(6/9) Installing: libXt6-1.1.5-4.3.x86_64 [.........done]
(7/9) Installing: libXmu6-1.1.2-8.3.x86_64 [.....done]
(8/9) Installing: libXaw7-1.0.13-5.3.1.x86_64 [..........done]
(9/9) Installing: graphviz-2.38.0-9.1.x86_64 [............done]
# OS packages installation successful
# Now letting OPAM install the packages
The following actions will be performed:
  - install ocamlbuild 0.12.0  [required by proverif]
  - install proverif   1.97pl1
===== 2 to install =====

<><> Gathering sources ><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
[ocamlbuild.0.12.0] found in cache
[proverif.1.97pl1] found in cache

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> installed ocamlbuild.0.12.0
[ERROR] The compilation of proverif failed at "/home/opam/.opam/4.06/.opam-switch/build/proverif.1.97pl1/./build ocb.native".

#=== ERROR while compiling proverif.1.97pl1 ===================================#
# context              2.0.0~rc3 | linux/x86_64 | ocaml-base-compiler.4.06.1 | git+file:///home/opam/opam-repository
# path                 ~/.opam/4.06/.opam-switch/build/proverif.1.97pl1
# command              ~/.opam/4.06/.opam-switch/build/proverif.1.97pl1/./build ocb.native
# exit-code            10
# env-file             ~/.opam/log/proverif-12-e80101.env
# output-file          ~/.opam/log/proverif-12-e80101.out
### output ###
# ocamlfind ocamldep -modules main.ml > main.ml.depends
# ocamlfind ocamldep -modules destructor.mli > destructor.mli.depends
# ocamlfind ocamldep -modules types.mli > types.mli.depends
# ocamlfind ocamldep -modules stringmap.mli > stringmap.mli.depends
# ocamlfind ocamlc -c -o stringmap.cmi stringmap.mli
# ocamlfind ocamlc -c -o types.cmi types.mli
# ocamlfind ocamldep -modules display.mli > display.mli.depends
# ocamlfind ocamldep -modules pitypes.mli > pitypes.mli.depends
# ocamlfind ocamlc -c -o pitypes.cmi pitypes.mli
# ocamlfind ocamldep -modules history.mli > history.mli.depends
# ocamlfind ocamldep -modules param.mli > param.mli.depends
# ocamlfind ocamldep -modules parsing_helper.mli > parsing_helper.mli.depends
# ocamlfind ocamldep -modules ptree.mli > ptree.mli.depends
# ocamlfind ocamlc -c -o parsing_helper.cmi parsing_helper.mli
# ocamlfind ocamlc -c -o ptree.cmi ptree.mli
# ocamlfind ocamldep -modules piauth.mli > piauth.mli.depends
# ocamlfind ocamldep -modules pisyntax.mli > pisyntax.mli.depends
# ocamlfind ocamldep -modules piptree.mli > piptree.mli.depends
# ocamlfind ocamlc -c -o piptree.cmi piptree.mli
# ocamlfind ocamldep -modules pitransl.mli > pitransl.mli.depends
# ocamlfind ocamldep -modules pitranslweak.mli > pitranslweak.mli.depends
# ocamlfind ocamldep -modules pitsyntax.mli > pitsyntax.mli.depends
# ocamlfind ocamldep -modules pitptree.mli > pitptree.mli.depends
# ocamlfind ocamlc -c -o pitptree.cmi pitptree.mli
# ocamlfind ocamldep -modules proswapper.mli > proswapper.mli.depends
# ocamlfind ocamldep -modules reduction.mli > reduction.mli.depends
# ocamlfind ocamlc -c -o history.cmi history.mli
# ocamlfind ocamldep -modules reduction_bipro.mli > reduction_bipro.mli.depends
# ocamlfind ocamldep -package str -modules reduction_helper.mli > reduction_helper.mli.depends
# ocamlfind ocamldep -modules rules.mli > rules.mli.depends
# ocamlfind ocamldep -modules selfun.mli > selfun.mli.depends
# ocamlfind ocamldep -modules pvqueue.mli > pvqueue.mli.depends
# ocamlfind ocamlc -c -o pvqueue.cmi pvqueue.mli
# ocamlfind ocamldep -modules simplify.mli > simplify.mli.depends
# ocamlfind ocamldep -modules spassout.mli > spassout.mli.depends
# ocamlfind ocamldep -modules syntax.mli > syntax.mli.depends
# ocamlfind ocamldep -modules terms.mli > terms.mli.depends
# ocamlfind ocamldep -modules termsEq.mli > termsEq.mli.depends
# ocamlfind ocamldep -modules tsyntax.mli > tsyntax.mli.depends
# ocamlfind ocamlc -c -o destructor.cmi destructor.mli
# ocamlfind ocamlc -c -o display.cmi display.mli
# ocamlfind ocamlc -c -o param.cmi param.mli
# ocamlfind ocamlc -c -o piauth.cmi piauth.mli
# ocamlfind ocamlc -c -o pisyntax.cmi pisyntax.mli
# ocamlfind ocamlc -c -o pitransl.cmi pitransl.mli
# ocamlfind ocamlc -c -o pitranslweak.cmi pitranslweak.mli
# ocamlfind ocamlc -c -o pitsyntax.cmi pitsyntax.mli
# ocamlfind ocamlc -c -o proswapper.cmi proswapper.mli
# ocamlfind ocamlc -c -o reduction.cmi reduction.mli
# ocamlfind ocamlc -c -o reduction_bipro.cmi reduction_bipro.mli
# ocamlfind ocamlc -c -package str -o reduction_helper.cmi reduction_helper.mli
# ocamlfind ocamlc -c -o rules.cmi rules.mli
# ocamlfind ocamlc -c -o selfun.cmi selfun.mli
# ocamlfind ocamlc -c -o simplify.cmi simplify.mli
# ocamlfind ocamlc -c -o spassout.cmi spassout.mli
# ocamlfind ocamlc -c -o syntax.cmi syntax.mli
# ocamlfind ocamlc -c -o terms.cmi terms.mli
# ocamlfind ocamlc -c -o termsEq.cmi termsEq.mli
# ocamlfind ocamlc -c -o tsyntax.cmi tsyntax.mli
# ocamlfind ocamlc -c -o main.cmo main.ml
# + ocamlfind ocamlc -c -o main.cmo main.ml
# File "main.ml", line 337, characters 14-30:
# Warning 3: deprecated: String.uppercase
# Use String.uppercase_ascii instead.
# ocamlfind ocamldep -modules destructor.ml > destructor.ml.depends
# ocamlfind ocamldep -modules display.ml > display.ml.depends
# ocamlfind ocamldep -modules param.ml > param.ml.depends
# ocamlfind ocamldep -modules parsing_helper.ml > parsing_helper.ml.depends
# ocamlfind ocamlopt -c -o parsing_helper.cmx parsing_helper.ml
# ocamlfind ocamldep -modules stringmap.ml > stringmap.ml.depends
# ocamlfind ocamlopt -c -o stringmap.cmx stringmap.ml
# ocamlfind ocamldep -modules terms.ml > terms.ml.depends
# ocamlfind ocamlopt -c -o param.cmx param.ml
# ocamlfind ocamldep -modules termslinks.ml > termslinks.ml.depends
# ocamlfind ocamldep -modules termslinks.mli > termslinks.mli.depends
# ocamlfind ocamlc -c -o termslinks.cmi termslinks.mli
# ocamlfind ocamlopt -c -o terms.cmx terms.ml
# ocamlfind ocamlopt -c -o termslinks.cmx termslinks.ml
# ocamlfind ocamldep -modules termsEq.ml > termsEq.ml.depends
# ocamlfind ocamlopt -c -o display.cmx display.ml
# /home/opam/.opam/4.06/bin/ocamllex.opt -q pitlexer.mll
# ocamlfind ocamldep -modules pitlexer.ml > pitlexer.ml.depends
# /home/opam/.opam/4.06/bin/ocamlyacc pitparser.mly
# + /home/opam/.opam/4.06/bin/ocamlyacc pitparser.mly
# 55 shift/reduce conflicts.
# ocamlfind ocamldep -modules pitparser.mli > pitparser.mli.depends
# ocamlfind ocamlc -c -o pitparser.cmi pitparser.mli
# ocamlfind ocamlc -c -o pitlexer.cmo pitlexer.ml
# ocamlfind ocamldep -modules pitparser.ml > pitparser.ml.depends
# ocamlfind ocamlopt -c -o pitparser.cmx pitparser.ml
# ocamlfind ocamldep -modules pvqueue.ml > pvqueue.ml.depends
# ocamlfind ocamlopt -c -o pitlexer.cmx pitlexer.ml
# ocamlfind ocamlopt -c -o pvqueue.cmx pvqueue.ml
# ocamlfind ocamlopt -c -o termsEq.cmx termsEq.ml
# ocamlfind ocamldep -modules history.ml > history.ml.depends
# ocamlfind ocamldep -package str -modules reduction_helper.ml > reduction_helper.ml.depends
# ocamlfind ocamlopt -c -package str -o reduction_helper.cmx reduction_helper.ml
# ocamlfind ocamldep -modules piauth.ml > piauth.ml.depends
# ocamlfind ocamlopt -c -o history.cmx history.ml
# ocamlfind ocamldep -modules pievent.ml > pievent.ml.depends
# ocamlfind ocamldep -modules pievent.mli > pievent.mli.depends
# ocamlfind ocamlc -c -o pievent.cmi pievent.mli
# ocamlfind ocamldep -modules reduction.ml > reduction.ml.depends
# ocamlfind ocamldep -modules evaluation_helper.ml > evaluation_helper.ml.depends
# ocamlfind ocamldep -modules evaluation_helper.mli > evaluation_helper.mli.depends
# ocamlfind ocamlc -c -o evaluation_helper.cmi evaluation_helper.mli
# ocamlfind ocamlopt -c -o pievent.cmx pievent.ml
# ocamlfind ocamldep -modules rules.ml > rules.ml.depends
# ocamlfind ocamldep -modules noninterf.ml > noninterf.ml.depends
# ocamlfind ocamldep -modules noninterf.mli > noninterf.mli.depends
# ocamlfind ocamlc -c -o noninterf.cmi noninterf.mli
# ocamlfind ocamldep -modules selfun.ml > selfun.ml.depends
# ocamlfind ocamlopt -c -o noninterf.cmx noninterf.ml
# ocamlfind ocamldep -modules weaksecr.ml > weaksecr.ml.depends
# ocamlfind ocamldep -modules weaksecr.mli > weaksecr.mli.depends
# ocamlfind ocamlc -c -o weaksecr.cmi weaksecr.mli
# ocamlfind ocamlopt -c -o weaksecr.cmx weaksecr.ml
# ocamlfind ocamlopt -c -o selfun.cmx selfun.ml
# ocamlfind ocamlopt -c -o evaluation_helper.cmx evaluation_helper.ml
# ocamlfind ocamlopt -c -o rules.cmx rules.ml
# + ocamlfind ocamlopt -c -o rules.cmx rules.ml
# File "rules.ml", line 215, characters 12-47:
# Warning 8: this pattern-matching is not exhaustive.
# Here is an example of a case that is not matched:
# (Removed (_, _, _)|Any (_, _)|Empty _|HEquation (_, _, _, _)|
# Resolution (_, _, _)|TestUnifTrue (_, _))
# File "rules.ml", line 217, characters 14-50:
# Warning 8: this pattern-matching is not exhaustive.
# Here is an example of a case that is not matched:
# Out (_, _)
# File "rules.ml", line 651, characters 7-46:
# Warning 8: this pattern-matching is not exhaustive.
# Here is an example of a case that is not matched:
# (Rule (_, _, _, Out (_, _), _)|Removed (_, _, _)|Any (_, _)|Empty _|
# HEquation (_, _, _, _)|Resolution (_, _, _)|TestUnifTrue (_, _))
# File "rules.ml", line 765, characters 6-41:
# Warning 8: this pattern-matching is not exhaustive.
# Here is an example of a case that is not matched:
# (Removed (_, _, _)|Any (_, _)|Empty _|HEquation (_, _, _, _)|
# Resolution (_, _, _)|TestUnifTrue (_, _))
# File "rules.ml", line 288, characters 15-53:
# Warning 26: unused variable r.
# File "rules.ml", line 414, characters 12-46:
# Warning 26: unused variable r1.
# File "rules.ml", line 414, characters 47-81:
# Warning 26: unused variable r2.
# ocamlfind ocamlopt -c -o reduction.cmx reduction.ml
# ocamlfind ocamldep -modules pisyntax.ml > pisyntax.ml.depends
# /home/opam/.opam/4.06/bin/ocamllex.opt -q pilexer.mll
# ocamlfind ocamldep -modules pilexer.ml > pilexer.ml.depends
# /home/opam/.opam/4.06/bin/ocamlyacc piparser.mly
# + /home/opam/.opam/4.06/bin/ocamlyacc piparser.mly
# 10 shift/reduce conflicts.
# ocamlfind ocamldep -modules piparser.mli > piparser.mli.depends
# ocamlfind ocamlc -c -o piparser.cmi piparser.mli
# ocamlfind ocamlc -c -o pilexer.cmo pilexer.ml
# ocamlfind ocamldep -modules piparser.ml > piparser.ml.depends
# ocamlfind ocamlopt -c -o piparser.cmx piparser.ml
# ocamlfind ocamlopt -c -o pilexer.cmx pilexer.ml
# ocamlfind ocamldep -modules pitransl.ml > pitransl.ml.depends
# ocamlfind ocamlopt -c -o pisyntax.cmx pisyntax.ml
# ocamlfind ocamldep -modules pitsyntax.ml > pitsyntax.ml.depends
# ocamlfind ocamldep -modules simplify.ml > simplify.ml.depends
# ocamlfind ocamlopt -c -o simplify.cmx simplify.ml
# ocamlfind ocamlopt -c -o pitsyntax.cmx pitsyntax.ml
# ocamlfind ocamldep -modules pitranslweak.ml > pitranslweak.ml.depends
# ocamlfind ocamldep -modules proswapper.ml > proswapper.ml.depends
# ocamlfind ocamldep -modules reduction_bipro.ml > reduction_bipro.ml.depends
# ocamlfind ocamldep -modules spassout.ml > spassout.ml.depends
# ocamlfind ocamldep -modules syntax.ml > syntax.ml.depends
# /home/opam/.opam/4.06/bin/ocamllex.opt -q lexer.mll
# ocamlfind ocamldep -modules lexer.ml > lexer.ml.depends
# /home/opam/.opam/4.06/bin/ocamlyacc parser.mly
# ocamlfind ocamldep -modules parser.mli > parser.mli.depends
# ocamlfind ocamlc -c -o parser.cmi parser.mli
# ocamlfind ocamlc -c -o lexer.cmo lexer.ml
# ocamlfind ocamldep -modules parser.ml > parser.ml.depends
# ocamlfind ocamlopt -c -o parser.cmx parser.ml
# ocamlfind ocamlopt -c -o lexer.cmx lexer.ml
# ocamlfind ocamldep -modules tsyntax.ml > tsyntax.ml.depends
# ocamlfind ocamlopt -c -o destructor.cmx destructor.ml
# ocamlfind ocamlopt -c -o piauth.cmx piauth.ml
# ocamlfind ocamlopt -c -o pitransl.cmx pitransl.ml
# ocamlfind ocamlopt -c -o pitranslweak.cmx pitranslweak.ml
# ocamlfind ocamlopt -c -o proswapper.cmx proswapper.ml
# ocamlfind ocamlopt -c -o reduction_bipro.cmx reduction_bipro.ml
# ocamlfind ocamlopt -c -o spassout.cmx spassout.ml
# + ocamlfind ocamlopt -c -o spassout.cmx spassout.ml
# File "spassout.ml", line 58, characters 6-37:
# Warning 3: deprecated: String.set
# Use Bytes.set instead.
# File "spassout.ml", line 58, characters 6-7:
# Error: This expression has type string but an expression was expected of type
#          bytes
# Command exited with code 2.



<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - build proverif 1.97pl1
+- 
+- The following changes have been performed
| - install ocamlbuild 0.12.0
+- 

The packages you requested declare the following system dependencies. Please make sure they are installed before retrying:
    graphviz

# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    opam switch import "/home/opam/.opam/4.06/.opam-switch/backup/state-20180723025749.export"
31 1532314212 1532314686